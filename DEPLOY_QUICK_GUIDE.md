# üöÄ –ë–´–°–¢–†–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –î–ï–ü–õ–û–Ø

## ‚úÖ –°–õ–ï–î–£–Æ–©–ò–ô –†–ê–ó –ò–°–ü–û–õ–¨–ó–£–ô –≠–¢–û:

### 1Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@109.73.192.44
cd /root/Labosfera
```

### 2Ô∏è‚É£ –°–∫–∞—á–∞–π —Å–≤–µ–∂–∏–π –∫–æ–¥
```bash
git pull origin main
```

### 3Ô∏è‚É£ –°–¥–µ–ª–∞–π backup (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```bash
./backup-before-deploy.sh
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–µ–ø–ª–æ–π frontend
```bash
./deploy-frontend-safe.sh
```

**–í—Å—ë! –°–∫—Ä–∏–ø—Ç —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –°–æ–±–µ—Ä–µ—Ç –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–±–µ–∑ –∫–∞—Å–∞–Ω–∏—è DB/backend)
- ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç Nginx
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚è±Ô∏è –í–†–ï–ú–Ø –î–ï–ü–õ–û–Ø:
- Backup: ~10 —Å–µ–∫—É–Ω–¥
- –°–±–æ—Ä–∫–∞: ~90 —Å–µ–∫—É–Ω–¥
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: ~20 —Å–µ–∫—É–Ω–¥
- **–ò—Ç–æ–≥–æ: ~2 –º–∏–Ω—É—Ç—ã**
- **Downtime: ~10-15 —Å–µ–∫—É–Ω–¥**

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –°–õ–û–ú–ê–õ–û–°–¨:

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:
```bash
docker logs labosfera_frontend_1 -f     # Frontend
docker logs labosfera_backend_1 -f      # Backend
docker logs labosfera_nginx_1 -f        # Nginx
```

### –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
```bash
# –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup –æ–±—Ä–∞–∑
docker images | grep backup

# –û—Ç–∫–∞—Ç–∏—Ç—å frontend
docker tag labosfera_frontend:backup_YYYYMMDD_HHMMSS labosfera_frontend:latest
docker-compose -f docker-compose.prod.yml up -d --no-deps frontend
docker-compose -f docker-compose.prod.yml restart nginx
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ù–∞–π—Ç–∏ backup
ls -lht /root/backups/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
zcat /root/backups/db_before_deploy_YYYYMMDD_HHMMSS.sql.gz | \
  docker exec -i labosfera_db_1 psql -U postgres labosfera_db
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú:

- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ö–æ–¥ –∑–∞–ª–∏—Ç –≤ GitHub (`git push`)
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É
- [ ] –°–∞–π—Ç —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–¥–µ–ª–∞–Ω backup
- [ ] –ó–∞–ø—É—â–µ–Ω `deploy-frontend-safe.sh`
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Å–∞–π—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏

---

## üéØ –ß–¢–û –£–õ–£–ß–®–ï–ù–û:

### –ë—ã–ª–æ (—Å–µ–≥–æ–¥–Ω—è —É—Ç—Ä–æ–º):
‚ùå –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã  
‚ùå –ù–µ—Ç backup  
‚ùå –°–ª—É—á–∞–π–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–ª–∏ DB  
‚ùå Nginx –Ω–µ –≤–∏–¥–µ–ª –Ω–æ–≤—ã–π IP  
‚ùå Downtime ~60 —Å–µ–∫—É–Ω–¥  
‚ùå –ü–∞–Ω–∏–∫–∞ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö  

### –°—Ç–∞–ª–æ (—Å–µ–π—á–∞—Å):
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã  
‚úÖ Backup –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º  
‚úÖ –¢–æ–ª—å–∫–æ frontend –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è  
‚úÖ Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ Downtime ~10-15 —Å–µ–∫—É–Ω–¥  
‚úÖ –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è  

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –î–õ–Ø –≠–ö–°–¢–†–ï–ù–ù–´–• –°–õ–£–ß–ê–ï–í:

**–°–µ—Ä–≤–µ—Ä:** 109.73.192.44  
**–î–æ–º–µ–Ω:** labosfera.ru  
**GitHub:** github.com/Semen1987nsk/Labosfera  
**Hosting:** Timeweb Cloud  

---

**–°–æ–∑–¥–∞–Ω–æ:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–ù–∞ –æ—Å–Ω–æ–≤–µ:** –†–µ–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏  
**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** ‚úÖ –î–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç!
