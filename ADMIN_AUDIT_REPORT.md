# üîç –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò DJANGO

**–î–∞—Ç–∞:** 6 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** Labosfera  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏—è

---

## üìä –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
1. **–ú–æ–¥–µ–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã** - Category, Product, ProductImage, Order, OrderItem, ContactRequest
2. **Admin –∫–ª–∞—Å—Å—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã** - –≤—Å–µ –º–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∞–¥–º–∏–Ω–∫–µ
3. **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - ProductImageInline –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä—è–º–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤** - —Ü–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫
5. **Bulk actions** - –º–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
6. **–ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –≤ —Å–ø–∏—Å–∫–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–∏–Ω–∏–∞—Ç—é—Ä—ã

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç slug –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ –∏–º–µ–Ω–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:** –í Product slug –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º URL
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é slug –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

#### 2. **–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞:** –£ —Ç–æ–≤–∞—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ is_main=True —Å–Ω–∏–º–∞—Ç—å —Ñ–ª–∞–≥ —Å –¥—Ä—É–≥–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å –∑–∞—è–≤–∫–∏ –∏ –∏–∑–º–µ–Ω—è—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å permissions –∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ

#### 4. **–ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –Ω–∏–∫—Ç–æ –Ω–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å email/Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –≤–∏–¥–Ω–æ, –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –º–µ–Ω—è–ª —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üõ†Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

#### 1.1. –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug –¥–ª—è Product
```python
# backend/catalog/models.py
from django.utils.text import slugify
import uuid

def save(self, *args, **kwargs):
    if not self.slug:
        base_slug = slugify(self.name) or f'product-{uuid.uuid4().hex[:8]}'
        unique_slug = base_slug
        counter = 1
        while Product.objects.filter(slug=unique_slug).exists():
            unique_slug = f'{base_slug}-{counter}'
            counter += 1
        self.slug = unique_slug
    super().save(*args, **kwargs)
```

#### 1.2. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```python
# backend/catalog/models.py - –≤ ProductImage
def save(self, *args, **kwargs):
    if self.is_main:
        # –°–Ω–∏–º–∞–µ–º —Ñ–ª–∞–≥ is_main —Å–æ –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —ç—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
        ProductImage.objects.filter(product=self.product, is_main=True).update(is_main=False)
    super().save(*args, **kwargs)
    
    # –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ is_main –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –¥–µ–ª–∞–µ–º –µ–≥–æ –≥–ª–∞–≤–Ω—ã–º
    if not ProductImage.objects.filter(product=self.product, is_main=True).exists():
        self.is_main = True
        super().save(update_fields=['is_main'])
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)

#### 2.1. –î–æ–±–∞–≤–∏—Ç—å readonly –ø–æ–ª—è –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö
```python
# backend/orders/admin.py
class OrderAdmin(admin.ModelAdmin):
    readonly_fields = [
        'created_at', 'updated_at', 'ip_address', 'user_agent',
        'total_items', 'estimated_total'  # ‚Üê –ó–∞—â–∏—Ç–∏—Ç—å –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    ]
```

#### 2.2. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
```python
# backend/orders/admin.py
def has_delete_permission(self, request, obj=None):
    # –¢–æ–ª—å–∫–æ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å –∑–∞—è–≤–∫–∏
    return request.user.is_superuser
```

#### 2.3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
```python
# backend/catalog/admin.py
class ProductAdmin(admin.ModelAdmin):
    list_filter = ('category', 'is_featured', 'created_at')  # ‚Üê –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
    date_hierarchy = 'created_at'  # ‚Üê –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –¥–∞—Ç–∞–º
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

#### 3.1. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
```python
# backend/orders/models.py
from django.core.mail import send_mail
from django.conf import settings

def save(self, *args, **kwargs):
    is_new = self.pk is None
    super().save(*args, **kwargs)
    
    if is_new and hasattr(settings, 'NOTIFY_EMAIL'):
        send_mail(
            f'–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ #{self.pk}',
            f'–û—Ç: {self.name}\n–¢–µ–ª–µ—Ñ–æ–Ω: {self.phone}',
            settings.DEFAULT_FROM_EMAIL,
            [settings.NOTIFY_EMAIL],
            fail_silently=True,
        )
```

#### 3.2. –≠–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ –≤ Excel
```python
# backend/orders/admin.py
from django.http import HttpResponse
import csv

def export_as_csv(self, request, queryset):
    response = HttpResponse(content_type='text/csv')
    response['Content-Disposition'] = 'attachment; filename="orders.csv"'
    
    writer = csv.writer(response)
    writer.writerow(['ID', '–ò–º—è', '–¢–µ–ª–µ—Ñ–æ–Ω', 'Email', '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è', '–°—Ç–∞—Ç—É—Å', '–î–∞—Ç–∞'])
    
    for order in queryset:
        writer.writerow([
            order.id, order.name, order.phone, order.email,
            order.organization, order.get_status_display(), order.created_at
        ])
    
    return response
export_as_csv.short_description = '–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ CSV'

actions = ['export_as_csv', 'mark_as_processing', ...]
```

---

## üìù CHECKLIST –î–õ–Ø –í–ù–ï–î–†–ï–ù–ò–Ø

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é slug –¥–ª—è Product
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
- [ ] –ó–∞—â–∏—Ç–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è –æ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV/Excel
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã (select_related, prefetch_related)

---

## üéØ –ò–¢–û–ì–ò

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–ª—è production  
**–ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –±–∞–≥–æ–≤:** 2 (slug, –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)  
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π:** 8  

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (1-2 —á–∞—Å–∞)
2. –í–Ω–µ–¥—Ä–∏—Ç—å –≤–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (2-3 —á–∞—Å–∞)
3. –î–æ–±–∞–≤–∏—Ç—å nice-to-have —Ñ—É–Ω–∫—Ü–∏–∏ (4-5 —á–∞—Å–æ–≤)

**–û–±—â–µ–µ –≤—Ä–µ–º—è –Ω–∞ –ø–æ–ª–Ω—É—é –¥–æ—Ä–∞–±–æ—Ç–∫—É:** 7-10 —á–∞—Å–æ–≤

---

*–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞*
